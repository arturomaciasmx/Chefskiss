<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css">

<style>
    #shopify-section-{{ section.id }} {
      max-width: 1200px;
      height: 500px;
      margin: auto;
      padding-top: {{ section.settings.space_top }}px;
      padding-bottom: {{ section.settings.space_bottom }}px;
      background-image: url({{ article.image | image_url: width: '1200x' }});
      background-size: cover;
      background-position: left;
      animation: change 13s infinite ease-in-out;
    }
  .active-thumb {
    border: none!important;
  }
  @media screen and (max-width: 750px) {
    #shopify-section-{{ section.id }} {
      background-position: right;
      height: 300px;
    }
    .splide__slide img {
      height: 300px;
    }
    .header-article-content {
      width: 90%;
      margin: auto;
      text-align: center;
    }
  }
</style>

<div class="header-article splide">
  <div class="splide__track">
    <ul class="splide__list">
      <li class="splide__slide">
        <img src="{{ article.metafields.custom.image_1.value | image_url: width: '1200px' }}" alt="">
      </li>
      <li class="splide__slide">
        <img src="{{ article.metafields.custom.image_2.value | image_url: width: '1200px' }}" alt="">
      </li>
      <li class="splide__slide">
        <img src="{{ article.metafields.custom.image_3.value | image_url: width: '1200px' }}" alt="">
      </li>
    </ul>
  </div>
</div>

<script>
  new Splide('.splide', {
    type: 'fade',
    arrows: false,
    pagination: false,
    rewind: true,
    perPage: 1,
    autoplay: 'play',
    interval: 3000,
    speed: 2000,
    pauseOnHover: false,
    pauseOnFocus: false,
  }).mount();
</script>

{% schema %}
{
  "name": "Header Article",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading Text"
    },
    {
      "type": "text",
      "id": "text",
      "label": "Text"
    },
    {
      "type": "number",
      "id": "space_top",
      "label": "Space Top"
    },
    {
      "type": "number",
      "id": "space_bottom",
      "label": "Space Bottom"
    },
    {
      "type": "image_picker",
      "id": "bg_1",
      "label": "Background 1"
    },
    {
      "type": "image_picker",
      "id": "bg_2",
      "label": "Background 2"
    },
    {
      "type": "image_picker",
      "id": "bg_3",
      "label": "Background 3"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text"
    }
  ],
  "presets": [
    {
      "name": "Header Article"
    }
  ]
}
{% endschema %}
